<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>为你写诗</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="shortcut icon" href="https://xiaohuazheng.github.io/img/favicon.ico">
    <style type="text/css">
        body {
            background: #cbdee2;
            margin: 0;
            min-height: 100%;
        }

        #poem-box {
            width: 160px;
            padding-bottom: 60px;
            margin: 0 auto;
        }

        #poem-box p {
            white-space: pre;
            color: #333;
            text-align: left;
}
    </style>
</head>
<body>

<div id="poem-box">
    <p>我如果爱你——</p>
    <p>绝不像攀援的凌霄花，</p>
    <p>借你的高枝炫耀自己；</p>
    <p>我如果爱你——</p>
    <p>绝不学痴情的鸟儿，</p>
    <p>为绿阴重复单调的歌曲；</p>
    <p>也不止像泉源</p>
    <p>长年送来清凉的慰藉；</p>
    <p>也不止像险峰</p>
    <p>增加你的高度，衬托你的威仪；</p>
    <p>甚至日光。</p>
    <p>甚至春雨。</p>
    <p>不，这些都还不够！</p>
    <p>我必须是你近旁的一株木棉，</p>
    <p>作为树的形象和你站在一起。</p>
    <p>根，紧握在地下</p>
    <p>叶，相触在云里。</p>
    <p>每一阵风过</p>
    <p>我们都互相致意，</p>
    <p>但没有人</p>
    <p>听懂我们的言语。</p>
    <p>你有你铜枝铁干，</p>
    <p>像刀、像剑</p>
    <p>也像戟；</p>
    <p>我有我红硕的花朵</p>
    <p>像沉重的叹息，</p>
    <p>又像英勇的火炬。</p>
    <p>我们分担寒潮、风雷、霹雳；</p>
    <p>我们共享雾霭、流岚、虹霓。</p>
    <p>仿佛永远分离，</p>
    <p>却又终身相依。</p>
    <p>这才是伟大的爱情，</p>
    <p>坚贞就在这里：</p>
    <p>爱——</p>
    <p>不仅爱你伟岸的身躯，</p>
    <p>也爱你坚持的位置，足下的土地。</p>
</div>

<script type="text/javascript">
    (function wrightPoem() {
        var $box = document.getElementById('poem-box'),
            poems = $box.innerHTML;
            index = 0;

        $box.innerHTML = '';

        var timer = setInterval(function() {
            var current = poems.substr(index, 1),
                next = poems.substr(index + 1, 1);
            if (current === '<') {
                if (next !== '/' && $box.offsetHeight > window.innerHeight) {
                    window.scrollTo(0, ($box.offsetHeight + 300 ));
                }
                index = poems.indexOf('>', index) + 1;
            } else {
                index++;
            }

            if(index > poems.length) {
                clearInterval(timer);
            }

            $box.innerHTML = poems.substring(0, index) + (index & 1 ? '_' : '');

        }, 120);
    })();
</script>
</body>
</html>